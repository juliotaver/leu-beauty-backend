🔍 ====== Nueva Solicitud ======
📍 Método: POST
📍 URL Original: /api/passes/generate
📍 URL Base: 
📍 Ruta: /api/passes/generate
📍 Parámetros: {}
🔒 Headers: {
  "host": "api.leubeautylab.com",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36",
  "content-length": "314",
  "accept": "application/json",
  "accept-encoding": "gzip, br",
  "accept-language": "es,es-419;q=0.9,en;q=0.8,en-US;q=0.7,pl;q=0.6,pt;q=0.5",
  "cdn-loop": "cloudflare; loops=1; subreqs=1",
  "cf-connecting-ip": "187.190.28.44",
  "cf-ew-via": "15",
  "cf-ipcountry": "MX",
  "cf-ray": "8e19bf4770735266-MEX",
  "cf-visitor": "{\"scheme\":\"https\"}",
  "cf-worker": "onrender.com",
  "content-type": "application/json",
  "origin": "https://admin.leubeautylab.com",
  "priority": "u=1, i",
  "referer": "https://admin.leubeautylab.com/",
  "render-proxy-ttl": "4",
  "rndr-id": "097beeca-d2de-461e",
  "sec-ch-ua": "\"Chromium\";v=\"130\", \"Google Chrome\";v=\"130\", \"Not?A_Brand\";v=\"99\"",
  "sec-ch-ua-mobile": "?0",
  "sec-ch-ua-platform": "\"macOS\"",
  "sec-fetch-dest": "empty",
  "sec-fetch-mode": "cors",
  "sec-fetch-site": "same-site",
  "true-client-ip": "187.190.28.44",
  "x-forwarded-for": "187.190.28.44, 172.69.164.157, 10.220.20.162",
  "x-forwarded-proto": "https",
  "x-request-start": "1731448326531751"
}
📦 Body: {
  "nombre": "adrian marcii",
  "email": "adrianmarcic@gmail.com",
  "telefono": "",
  "visitas": 0,
  "ultimaVisita": "2024-11-12T21:52:05.476Z",
  "proximaRecompensa": "Postre Gratis",
  "recompensasCanjeadas": [],
  "id": "dOUMtEuqJnc3U8SSY1xl",
  "lastPassUpdate": "2024-11-12T21:52:05.888Z",
  "passTypeIdentifier": "pass.com.salondenails.loyalty"
}
===============================
📝 Generando pase para: {
  nombre: 'adrian marcii',
  email: 'adrianmarcic@gmail.com',
  telefono: '',
  visitas: 0,
  ultimaVisita: '2024-11-12T21:52:05.476Z',
  proximaRecompensa: 'Postre Gratis',
  recompensasCanjeadas: [],
  id: 'dOUMtEuqJnc3U8SSY1xl',
  lastPassUpdate: '2024-11-12T21:52:05.888Z',
  passTypeIdentifier: 'pass.com.salondenails.loyalty'
}
📤 Respuesta [200]: {"passUrl":"/passes/1731448326540-dOUMtEuqJnc3U8SSY1xl.pkpass"}
🔍 ====== Nueva Solicitud ======
📍 Método: GET
📍 URL Original: /passes/1731448326540-dOUMtEuqJnc3U8SSY1xl.pkpass
📍 URL Base: 
📍 Ruta: /passes/1731448326540-dOUMtEuqJnc3U8SSY1xl.pkpass
📍 Parámetros: {}
🔒 Headers: {
  "host": "api.leubeautylab.com",
  "user-agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.2 Mobile/15E148 Safari/604.1",
  "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
  "accept-encoding": "gzip, br",
  "accept-language": "en-US,en;q=0.9",
  "cdn-loop": "cloudflare; loops=1; subreqs=1",
  "cf-connecting-ip": "13.57.40.0",
  "cf-ew-via": "15",
  "cf-ipcountry": "US",
  "cf-ray": "8e19c00f850c2364-SJC",
  "cf-visitor": "{\"scheme\":\"https\"}",
  "cf-worker": "onrender.com",
  "forwarded": "for=187.190.28.44;host=admin.leubeautylab.com;proto=https;sig=0QmVhcmVyIGU4ZGJkODg3YTMwNDY5Nzc1MDU0ODZiZmYyZDM3YWIwZDdhZjg5NjVkZDQ4YjVjNDdmZWZhZGEwMTZjODA3NGI=;exp=1731448658",
  "priority": "u=0, i",
  "render-proxy-ttl": "4",
  "rndr-id": "f3caef27-8950-4c8f",
  "sec-fetch-dest": "document",
  "sec-fetch-mode": "navigate",
  "sec-fetch-site": "none",
  "true-client-ip": "13.57.40.0",
  "x-forwarded-for": "187.190.28.44,13.57.40.0, 172.68.174.222, 10.220.20.162",
  "x-forwarded-host": "admin.leubeautylab.com",
  "x-forwarded-proto": "https",
  "x-request-start": "1731448358362979",
  "x-vercel-forwarded-for": "187.190.28.44",
  "x-vercel-id": "sfo1::mwbtq-1731448358177-192f0ca51eaa",
  "x-vercel-ja4-digest": "t13d2014h2_a09f3c656075_e42f34c56612",
  "x-vercel-proxied-for": "187.190.28.44",
  "x-vercel-proxy-signature": "Bearer e8dbd887a3046977505486bff2d37ab0d7af8965dd48b5c47fefada016c8074b",
  "x-vercel-proxy-signature-ts": "1731448658"
}
===============================
🔍 ====== Nueva Solicitud ======
📍 Método: GET
📍 URL Original: /passes/1731443829020-0akuCD3ZiRm9Qyny0T1I.pkpass
📍 URL Base: 
📍 Ruta: /passes/1731443829020-0akuCD3ZiRm9Qyny0T1I.pkpass
📍 Parámetros: {}
🔒 Headers: {
  "host": "api.leubeautylab.com",
  "user-agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.2 Mobile/15E148 Safari/604.1",
  "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
  "accept-encoding": "gzip, br",
  "accept-language": "en-US,en;q=0.9",
  "cdn-loop": "cloudflare; loops=1; subreqs=1",
  "cf-connecting-ip": "3.101.16.110",
  "cf-ew-via": "15",
  "cf-ipcountry": "US",
  "cf-ray": "8e19c010122096d8-SJC",
  "cf-visitor": "{\"scheme\":\"https\"}",
  "cf-worker": "onrender.com",
  "forwarded": "for=187.190.28.44;host=admin.leubeautylab.com;proto=https;sig=0QmVhcmVyIGU4ZGJkODg3YTMwNDY5Nzc1MDU0ODZiZmYyZDM3YWIwZDdhZjg5NjVkZDQ4YjVjNDdmZWZhZGEwMTZjODA3NGI=;exp=1731448658",
  "priority": "u=0, i",
  "render-proxy-ttl": "4",
  "rndr-id": "9cd1ecef-064b-4a1d",
  "sec-fetch-dest": "document",
  "sec-fetch-mode": "navigate",
  "sec-fetch-site": "cross-site",
  "true-client-ip": "3.101.16.110",
  "x-forwarded-for": "187.190.28.44,3.101.16.110, 172.68.174.209, 10.220.20.162",
  "x-forwarded-host": "admin.leubeautylab.com",
  "x-forwarded-proto": "https",
  "x-request-start": "1731448358453175",
  "x-vercel-forwarded-for": "187.190.28.44",
  "x-vercel-id": "sfo1::clhnx-1731448358360-6dcac4ba9142",
  "x-vercel-ja4-digest": "t13d2014h2_a09f3c656075_e42f34c56612",
  "x-vercel-proxied-for": "187.190.28.44",
  "x-vercel-proxy-signature": "Bearer e8dbd887a3046977505486bff2d37ab0d7af8965dd48b5c47fefada016c8074b",
  "x-vercel-proxy-signature-ts": "1731448658"
}
===============================
🔍 ====== Nueva Solicitud ======
📍 Método: POST
📍 URL Original: /api/push/update-pass
📍 URL Base: 
📍 Ruta: /api/push/update-pass
📍 Parámetros: {}
🔒 Headers: {
  "host": "api.leubeautylab.com",
  "user-agent": "Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36",
  "content-length": "36",
  "accept": "application/json",
  "accept-encoding": "gzip, br",
  "accept-language": "es-MX,es;q=0.9,en-US;q=0.8,en;q=0.7,es-419;q=0.6",
  "cdn-loop": "cloudflare; loops=1; subreqs=1",
  "cf-connecting-ip": "45.90.222.113",
  "cf-ew-via": "15",
  "cf-ipcountry": "CA",
  "cf-ray": "8e19c0eb2064ba15-SEA",
  "cf-visitor": "{\"scheme\":\"https\"}",
  "cf-worker": "onrender.com",
  "content-type": "application/json",
  "origin": "https://admin.leubeautylab.com",
  "priority": "u=1, i",
  "referer": "https://admin.leubeautylab.com/",
  "render-proxy-ttl": "4",
  "rndr-id": "8bf0ae19-6f4e-421e",
  "sec-ch-ua": "\"Chromium\";v=\"130\", \"Google Chrome\";v=\"130\", \"Not?A_Brand\";v=\"99\"",
  "sec-ch-ua-mobile": "?1",
  "sec-ch-ua-platform": "\"Android\"",
  "sec-fetch-dest": "empty",
  "sec-fetch-mode": "cors",
  "sec-fetch-site": "same-site",
  "true-client-ip": "45.90.222.113",
  "x-forwarded-for": "45.90.222.113, 162.158.42.80, 10.220.20.162",
  "x-forwarded-proto": "https",
  "x-request-start": "1731448393499059"
}
📦 Body: {
  "clienteId": "dOUMtEuqJnc3U8SSY1xl"
}
===============================
🔄 Iniciando actualización para cliente: dOUMtEuqJnc3U8SSY1xl
🔍 Buscando registro de dispositivo...
🔍 Buscando registros para cliente: dOUMtEuqJnc3U8SSY1xl
⚠️ No se encontró registro para el cliente: dOUMtEuqJnc3U8SSY1xl
❌ Error enviando notificación: Error: Cliente dOUMtEuqJnc3U8SSY1xl no tiene token push registrado
    at /opt/render/project/src/dist/controllers/passController.js:170:23
    at Generator.next (<anonymous>)
    at fulfilled (/opt/render/project/src/dist/controllers/passController.js:6:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
📤 Respuesta [500]: {"error":"Error al enviar notificación","details":"Cliente dOUMtEuqJnc3U8SSY1xl no tiene token push registrado"}