====== Nueva Solicitud ======
📍 Método: POST
📍 URL Original: /api/passes/generate
📍 URL Base: 
📍 Ruta: /api/passes/generate
📍 Parámetros: {}
🔒 Headers: {
  "host": "api.leubeautylab.com",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36",
  "content-length": "308",
  "accept": "application/json",
  "accept-encoding": "gzip, br",
  "accept-language": "es,es-419;q=0.9,en;q=0.8,en-US;q=0.7,pl;q=0.6,pt;q=0.5",
  "cdn-loop": "cloudflare; loops=1; subreqs=1",
  "cf-connecting-ip": "187.190.28.44",
  "cf-ew-via": "15",
  "cf-ipcountry": "MX",
  "cf-ray": "8e18f26564c29e2d-MEX",
  "cf-visitor": "{\"scheme\":\"https\"}",
  "cf-worker": "onrender.com",
  "content-type": "application/json",
  "origin": "https://admin.leubeautylab.com",
  "priority": "u=1, i",
  "referer": "https://admin.leubeautylab.com/",
  "render-proxy-ttl": "4",
  "rndr-id": "83af93ea-bcda-447d",
  "sec-ch-ua": "\"Chromium\";v=\"130\", \"Google Chrome\";v=\"130\", \"Not?A_Brand\";v=\"99\"",
  "sec-ch-ua-mobile": "?0",
  "sec-ch-ua-platform": "\"macOS\"",
  "sec-fetch-dest": "empty",
  "sec-fetch-mode": "cors",
  "sec-fetch-site": "same-site",
  "true-client-ip": "187.190.28.44",
  "x-forwarded-for": "187.190.28.44, 172.69.164.137, 10.220.159.198",
  "x-forwarded-proto": "https",
  "x-request-start": "1731439934529917"
}
📦 Body: {
  "nombre": "marcos ruiz",
  "email": "marcosrr@gmail.com",
  "telefono": "",
  "visitas": 0,
  "ultimaVisita": "2024-11-12T19:32:13.098Z",
  "proximaRecompensa": "Postre Gratis",
  "recompensasCanjeadas": [],
  "id": "cRDGJS9ZRtmaRWP1IMzx",
  "lastPassUpdate": "2024-11-12T19:32:13.813Z",
  "passTypeIdentifier": "pass.com.salondenails.loyalty"
}
===============================
📝 Generando pase para: {
  nombre: 'marcos ruiz',
  email: 'marcosrr@gmail.com',
  telefono: '',
  visitas: 0,
  ultimaVisita: '2024-11-12T19:32:13.098Z',
  proximaRecompensa: 'Postre Gratis',
  recompensasCanjeadas: [],
  id: 'cRDGJS9ZRtmaRWP1IMzx',
  lastPassUpdate: '2024-11-12T19:32:13.813Z',
  passTypeIdentifier: 'pass.com.salondenails.loyalty'
}
🔍 Creando directorio temporal: /opt/render/project/src/public/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx
📝 Generando pass.json con webServiceURL: https://api.leubeautylab.com/v1
📝 Escribiendo pass.json
🖼️ Copiando recursos
📋 Generando manifest.json
📌 Hash para pass.json: 44e270e913c5cb1e58ddc2bd06b0421fde6d31db
📌 Hash para icon.png: 5eece35d93b14c39d3bbb96783274697a75bbddc
📌 Hash para logo.png: a644c5ce109283c702c9c6db47c91cf0d2b7abca
📌 Hash para strip.png: 407b781171c54c03d43d6e9e0dc3f22203fe9dc6
🔐 Verificando certificados
✅ Certificado encontrado: signer
✅ Certificado encontrado: key
✅ Certificado encontrado: wwdr
✍️ Firmando el pase
📜 Comando de firma: openssl smime -sign -signer "/opt/render/project/src/certificates/pass.pem" -inkey "/opt/render/project/src/certificates/pass.key" -certfile "/opt/render/project/src/certificates/WWDR.pem" -in "/opt/render/project/src/public/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx/manifest.json" -out "/opt/render/project/src/public/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx/signature" -outform DER -binary
📦 Creando archivo .pkpass
🤐 Comando zip: cd "/opt/render/project/src/public/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx" && zip -r "/opt/render/project/src/public/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx.pkpass" *
✅ Archivo .pkpass creado: /opt/render/project/src/public/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx.pkpass (685255 bytes)
🧹 Directorio temporal limpiado
📤 Respuesta [200]: {"passUrl":"/passes/1731439934618-cRDGJS9ZRtmaRWP1IMzx.pkpass"}